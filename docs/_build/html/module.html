<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Module Documentation &mdash; WeatherAlerts v1.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="WeatherAlerts v1.0 documentation" href="index.html" />
    <link rel="prev" title="Release Changes" href="changelog.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="changelog.html" title="Release Changes"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">WeatherAlerts v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-weatheralerts.nws">
<h1>Module Documentation<a class="headerlink" href="#module-weatheralerts.nws" title="Permalink to this headline">¶</a></h1>
<p>Project home: github.com/zebpalmer/WeatherAlerts
Original Author: Zeb Palmer   (www.zebpalmer.com)
For more info, please see the README.rst</p>
<p>This program is free software you can redistribute it and
or modify it under the terms of the GNU General Public License
as published by the Free Software Foundation, either version
3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="class">
<dt id="weatheralerts.nws.Alerts">
<em class="property">class </em><tt class="descclassname">weatheralerts.nws.</tt><tt class="descname">Alerts</tt><big>(</big><em>state=''</em>, <em>geocodes=''</em>, <em>load=True</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.Alerts" title="Permalink to this definition">¶</a></dt>
<dd><p>Alerts object that controls interaction with the samecodes and capparser classes/methods.
Pass state=&#8217;&#8217; or geocodes=&#8217;samecodes_list&#8217; to change which feed is being parsed
passing a list of samecodes will determine if they are in the same state and pick
the correct feed or use the US feed if they&#8217;re in different states</p>
<dl class="attribute">
<dt id="weatheralerts.nws.Alerts.active_locations">
<tt class="descname">active_locations</tt><a class="headerlink" href="#weatheralerts.nws.Alerts.active_locations" title="Permalink to this definition">¶</a></dt>
<dd>returns list of all active locations</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.Alerts.alerts_by_county_state">
<tt class="descname">alerts_by_county_state</tt><big>(</big><em>req_location</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.Alerts.alerts_by_county_state" title="Permalink to this definition">¶</a></dt>
<dd>returns alerts for given county, state</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.Alerts.alerts_by_samecodes">
<tt class="descname">alerts_by_samecodes</tt><big>(</big><em>geocodes</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.Alerts.alerts_by_samecodes" title="Permalink to this definition">¶</a></dt>
<dd>returns alerts for a given SAME code</dd></dl>

<dl class="attribute">
<dt id="weatheralerts.nws.Alerts.json">
<tt class="descname">json</tt><a class="headerlink" href="#weatheralerts.nws.Alerts.json" title="Permalink to this definition">¶</a></dt>
<dd>returns json object of all alerts on specified feed (National feed by default)</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.Alerts.load_alerts">
<tt class="descname">load_alerts</tt><big>(</big><big>)</big><a class="headerlink" href="#weatheralerts.nws.Alerts.load_alerts" title="Permalink to this definition">¶</a></dt>
<dd>manually load the cap feed/alerts</dd></dl>

<dl class="attribute">
<dt id="weatheralerts.nws.Alerts.pyobj">
<tt class="descname">pyobj</tt><a class="headerlink" href="#weatheralerts.nws.Alerts.pyobj" title="Permalink to this definition">¶</a></dt>
<dd>returns python object of all alerts for specified feed(National by default)</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.Alerts.set_state">
<tt class="descname">set_state</tt><big>(</big><em>state</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.Alerts.set_state" title="Permalink to this definition">¶</a></dt>
<dd>sets state, reloads alerts unless told otherwise</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.Alerts.state_summary">
<tt class="descname">state_summary</tt><big>(</big><em>state=''</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.Alerts.state_summary" title="Permalink to this definition">¶</a></dt>
<dd>print all alerts for a given state</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.Alerts.target_area">
<tt class="descname">target_area</tt><big>(</big><em>locations</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.Alerts.target_area" title="Permalink to this definition">¶</a></dt>
<dd>TODO: not used yet
sets target areas to be used in all limiting functions</dd></dl>

</dd></dl>

<dl class="class">
<dt id="weatheralerts.nws.CapAlertsFeed">
<em class="property">class </em><tt class="descclassname">weatheralerts.nws.</tt><tt class="descname">CapAlertsFeed</tt><big>(</big><em>state='US'</em>, <em>geo=None</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.CapAlertsFeed" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to fetch and load the NWS CAP/XML Alerts feed for the US or a single state if requested
if an instance of the SameCodes class has already been (to do a geo lookup), you can pass that
as well to save some processing</p>
<dl class="attribute">
<dt id="weatheralerts.nws.CapAlertsFeed.alerts">
<tt class="descname">alerts</tt><a class="headerlink" href="#weatheralerts.nws.CapAlertsFeed.alerts" title="Permalink to this definition">¶</a></dt>
<dd>returns all alerts on feed</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.CapAlertsFeed.check_objectage">
<tt class="descname">check_objectage</tt><big>(</big><big>)</big><a class="headerlink" href="#weatheralerts.nws.CapAlertsFeed.check_objectage" title="Permalink to this definition">¶</a></dt>
<dd>check age of alerts in this object, reload if past max cache time</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.CapAlertsFeed.reload_alerts">
<tt class="descname">reload_alerts</tt><big>(</big><big>)</big><a class="headerlink" href="#weatheralerts.nws.CapAlertsFeed.reload_alerts" title="Permalink to this definition">¶</a></dt>
<dd>Reload alerts bypassing cache</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.CapAlertsFeed.set_maxage">
<tt class="descname">set_maxage</tt><big>(</big><em>maxage=3</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.CapAlertsFeed.set_maxage" title="Permalink to this definition">¶</a></dt>
<dd>Override the default max age for the alerts cache</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.CapAlertsFeed.set_state">
<tt class="descname">set_state</tt><big>(</big><em>state</em>, <em>refresh=True</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.CapAlertsFeed.set_state" title="Permalink to this definition">¶</a></dt>
<dd>sets state, reloads alerts unless told otherwise</dd></dl>

</dd></dl>

<dl class="class">
<dt id="weatheralerts.nws.GeoDB">
<em class="property">class </em><tt class="descclassname">weatheralerts.nws.</tt><tt class="descname">GeoDB</tt><a class="headerlink" href="#weatheralerts.nws.GeoDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to interact with samecodes object and (soon) other geo data
TODO: move interaction with samecodes data to here</p>
<dl class="method">
<dt id="weatheralerts.nws.GeoDB.get_states_from_samecodes">
<tt class="descname">get_states_from_samecodes</tt><big>(</big><em>geocodes</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.GeoDB.get_states_from_samecodes" title="Permalink to this definition">¶</a></dt>
<dd>Returns all states for a given list of SAME codes</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.GeoDB.getfeedscope">
<tt class="descname">getfeedscope</tt><big>(</big><em>geocodes</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.GeoDB.getfeedscope" title="Permalink to this definition">¶</a></dt>
<dd>Given multiple SAME codes, this determines if they are all in one state if so, it returns that state.
Otherwise it returns &#8216;US&#8217;. This is used to determine which NWS feed needs to be parsed to get
all alerts for the given SAME codes</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.GeoDB.getstate">
<tt class="descname">getstate</tt><big>(</big><em>geosame</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.GeoDB.getstate" title="Permalink to this definition">¶</a></dt>
<dd>Return the state of a given SAME code</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.GeoDB.location_lookup">
<tt class="descname">location_lookup</tt><big>(</big><em>req_location</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.GeoDB.location_lookup" title="Permalink to this definition">¶</a></dt>
<dd>returns full location given samecode or county and state. Returns False if not valid.</dd></dl>

<dl class="method">
<dt id="weatheralerts.nws.GeoDB.lookup_samecode">
<tt class="descname">lookup_samecode</tt><big>(</big><em>local</em>, <em>state</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.GeoDB.lookup_samecode" title="Permalink to this definition">¶</a></dt>
<dd>return same code given county, state</dd></dl>

</dd></dl>

<dl class="class">
<dt id="weatheralerts.nws.SameCodes">
<em class="property">class </em><tt class="descclassname">weatheralerts.nws.</tt><tt class="descname">SameCodes</tt><a class="headerlink" href="#weatheralerts.nws.SameCodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Download and parse samecodes database into an object, cache it</p>
<dl class="method">
<dt id="weatheralerts.nws.SameCodes.reload">
<tt class="descname">reload</tt><big>(</big><big>)</big><a class="headerlink" href="#weatheralerts.nws.SameCodes.reload" title="Permalink to this definition">¶</a></dt>
<dd>force refresh of Same Codes (mainly for testing)</dd></dl>

<dl class="attribute">
<dt id="weatheralerts.nws.SameCodes.samecodes">
<tt class="descname">samecodes</tt><a class="headerlink" href="#weatheralerts.nws.SameCodes.samecodes" title="Permalink to this definition">¶</a></dt>
<dd>public method to return the same codes list</dd></dl>

</dd></dl>

<dl class="function">
<dt id="weatheralerts.nws.alert_type">
<tt class="descclassname">weatheralerts.nws.</tt><tt class="descname">alert_type</tt><big>(</big><em>alert</em><big>)</big><a class="headerlink" href="#weatheralerts.nws.alert_type" title="Permalink to this definition">¶</a></dt>
<dd>return alert type for a given alert</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="changelog.html"
                                  title="previous chapter">Release Changes</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/module.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="changelog.html" title="Release Changes"
             >previous</a> |</li>
        <li><a href="index.html">WeatherAlerts v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright Zeb Palmer, Licensed under (GPLv3).
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>